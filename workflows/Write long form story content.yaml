graph:
  connections:
  - canvas_item: 168
    canvas_items:
    - 168
    - 169
    - 170
    - 171
    - 172
    - 173
    - 174
    - 175
    - 176
    - 177
    - 178
    - 179
    - 180
    - 181
    - 182
    - 183
    - 184
    disabled: false
    flow_offset: 0
    from_node: b6533fcc-5a95-4d2f-9be7-ffbba1fe2362
    from_output: output
    is_flowing: false
    original_colors:
    - '#55ff99'
    - '#55fa9d'
    - '#55f99e'
    - '#55f99e'
    - '#55f99e'
    - '#55eaad'
    - '#55eaad'
    - '#55e9ae'
    - '#55e9ae'
    - '#55c7d0'
    - '#55c7d0'
    - '#55c6d1'
    - '#55c6d1'
    - '#559ef9'
    - '#559ef9'
    - '#559ef9'
    - '#559dfa'
    to_input: input
    to_node: 3b531ecb-da74-483a-93cf-11de692f0b68
  - canvas_item: 185
    canvas_items:
    - 185
    - 186
    - 187
    - 188
    - 189
    - 190
    - 191
    - 192
    - 193
    - 194
    - 195
    - 196
    - 197
    disabled: false
    flow_offset: 2
    from_node: b02230a3-53b8-49d1-b90a-d06a1cb59c73
    from_output: output
    is_flowing: false
    original_colors:
    - '#55ff99'
    - '#55efa8'
    - '#55eea9'
    - '#55ecab'
    - '#55ebac'
    - '#55adea'
    - '#55aceb'
    - '#55abec'
    - '#55a9ee'
    to_input: input
    to_node: 6976a651-76f1-410c-b10b-0f4324774546
  - canvas_item: 198
    canvas_items:
    - 198
    - 199
    - 200
    - 201
    - 202
    - 203
    - 204
    - 205
    - 206
    - 207
    - 208
    - 209
    - 210
    - 211
    - 212
    - 213
    - 214
    disabled: false
    flow_offset: 8
    from_node: d407e984-dd52-4549-ae40-821e2646d5ae
    from_output: prompt
    is_flowing: false
    original_colors:
    - '#55ff99'
    - '#55f6a1'
    - '#55f5a2'
    - '#55f5a2'
    - '#55f4a3'
    - '#55e6b1'
    - '#55e6b1'
    - '#55e5b2'
    - '#55e4b3'
    - '#55c6d1'
    - '#55c5d2'
    - '#55c4d3'
    - '#55c3d4'
    - '#55a3f4'
    - '#55a2f5'
    - '#55a2f5'
    - '#55a1f6'
    to_input: input
    to_node: d40b6cbb-3284-47de-ab07-da0ec7176748
  - canvas_item: 215
    canvas_items:
    - 215
    - 216
    - 217
    - 218
    - 219
    - 220
    - 221
    - 222
    - 223
    - 224
    - 225
    - 226
    - 227
    - 228
    - 229
    - 230
    - 231
    disabled: false
    flow_offset: 8
    from_node: d40b6cbb-3284-47de-ab07-da0ec7176748
    from_output: output2
    is_flowing: false
    original_colors:
    - '#55ff99'
    - '#55f6a1'
    - '#55f5a2'
    - '#55f4a3'
    - '#55f3a4'
    - '#55dfb8'
    - '#55deb9'
    - '#55deb9'
    - '#55ddba'
    - '#55c2d5'
    - '#55c1d6'
    - '#55c1d6'
    - '#55c0d7'
    - '#55a4f3'
    - '#55a3f4'
    - '#55a2f5'
    - '#55a1f6'
    to_input: input
    to_node: 96669a06-cf73-4bde-9fbf-613c80727d20
  - canvas_item: 232
    canvas_items:
    - 232
    - 233
    - 234
    - 235
    - 236
    - 237
    - 238
    - 239
    - 240
    - 241
    - 242
    - 243
    - 244
    - 245
    - 246
    - 247
    - 248
    disabled: false
    flow_offset: 0
    from_node: 3b531ecb-da74-483a-93cf-11de692f0b68
    from_output: output
    is_flowing: false
    original_colors:
    - '#55ff99'
    - '#55c7d0'
    - '#55c5d2'
    - '#55c3d4'
    - '#55c0d7'
    - '#55bbdc'
    - '#55b9de'
    - '#55b7e0'
    - '#55b4e3'
    to_input: input
    to_node: f08be467-3921-42ce-befa-51c12bc15775
  - canvas_item: 249
    canvas_items:
    - 249
    - 250
    - 251
    - 252
    - 253
    - 254
    - 255
    - 256
    - 257
    disabled: false
    flow_offset: 0
    from_node: f08be467-3921-42ce-befa-51c12bc15775
    from_output: output1
    is_flowing: false
    original_colors:
    - '#55ff99'
    - '#55f6a1'
    - '#55f5a2'
    - '#55f4a3'
    - '#55f3a4'
    - '#55d9be'
    - '#55d8bf'
    - '#55d8bf'
    - '#55d7c0'
    - '#55b5e2'
    - '#55b4e3'
    - '#55b3e4'
    - '#55b2e5'
    - '#55a4f3'
    - '#55a3f4'
    - '#55a2f5'
    - '#55a1f6'
    to_input: input
    to_node: d407e984-dd52-4549-ae40-821e2646d5ae
  - canvas_item: 258
    canvas_items:
    - 258
    - 259
    - 260
    - 261
    - 262
    - 263
    - 264
    - 265
    - 266
    disabled: false
    flow_offset: 0
    from_node: f08be467-3921-42ce-befa-51c12bc15775
    from_output: output2
    is_flowing: false
    original_colors:
    - '#55ff99'
    - '#55f89f'
    - '#55f89f'
    - '#55f7a0'
    - '#55f7a0'
    - '#55e9ae'
    - '#55e8af'
    - '#55e8af'
    - '#55e7b0'
    - '#55bbdc'
    - '#55badd'
    - '#55badd'
    - '#55b9de'
    - '#55a0f7'
    - '#55a0f7'
    - '#559ff8'
    - '#559ff8'
    to_input: input
    to_node: 3039be00-3cd7-4220-9a08-0347e8208a57
  - canvas_item: 267
    canvas_items:
    - 267
    - 268
    - 269
    disabled: false
    from_node: 96669a06-cf73-4bde-9fbf-613c80727d20
    from_output: output
    to_input: input
    to_node: 2586ffd7-e519-4c4b-ad18-e8ef7f8f6cbf
  - canvas_item: 270
    canvas_items:
    - 270
    - 271
    - 272
    - 273
    - 274
    - 275
    - 276
    - 277
    - 278
    disabled: false
    from_node: 2586ffd7-e519-4c4b-ad18-e8ef7f8f6cbf
    from_output: output1
    to_input: input
    to_node: a674f96f-b608-4852-b39f-7a4b1f15b13f
  - canvas_item: 279
    canvas_items:
    - 279
    - 280
    - 281
    - 282
    - 283
    - 284
    - 285
    - 286
    - 287
    - 288
    - 289
    - 290
    - 291
    - 292
    - 293
    - 294
    - 295
    disabled: false
    from_node: 2586ffd7-e519-4c4b-ad18-e8ef7f8f6cbf
    from_output: output2
    to_input: input
    to_node: cf33029e-9118-4bfa-a8cd-469a4d0230fd
  - canvas_item: 296
    canvas_items:
    - 296
    disabled: false
    from_node: cf33029e-9118-4bfa-a8cd-469a4d0230fd
    from_output: output
    to_input: input
    to_node: ef04ae7a-8247-4da6-9621-f36766e76fdd
  - canvas_item: 297
    canvas_items:
    - 297
    - 298
    - 299
    - 300
    - 301
    - 302
    - 303
    - 304
    - 305
    - 306
    - 307
    - 308
    - 309
    - 310
    - 311
    - 312
    - 313
    - 314
    disabled: true
    from_node: d40b6cbb-3284-47de-ab07-da0ec7176748
    from_output: output1
    to_input: input
    to_node: b02230a3-53b8-49d1-b90a-d06a1cb59c73
  - canvas_item: 559
    canvas_items:
    - 559
    - 560
    - 561
    - 562
    - 563
    - 564
    - 565
    - 566
    - 567
    - 568
    - 569
    - 570
    - 571
    - 572
    - 573
    - 574
    - 575
    disabled: false
    from_node: d1b361f7-7122-4480-8867-a8bdfa3ac19d
    from_output: chat_history
    to_input: input
    to_node: b6533fcc-5a95-4d2f-9be7-ffbba1fe2362
  nodes:
    2586ffd7-e519-4c4b-ad18-e8ef7f8f6cbf:
      canvas_items:
        body: 2
        description: 5
        header: 3
        input_input: 6
        input_label_input: 7
        output_label_output1: 9
        output_label_output2: 11
        output_label_output3: 13
        output_label_output4: 15
        output_output1: 8
        output_output2: 10
        output_output3: 12
        output_output4: 14
        resize_handle: 16
        shadow: 1
        title: 4
      height: 121.11111111111111
      highlight_state: false
      id: 2586ffd7-e519-4c4b-ad18-e8ef7f8f6cbf
      inputs:
      - input
      outputs:
      - output1
      - output2
      - output3
      - output4
      properties:
        Prompt:
          default: ''
          type: textarea
        description:
          default: Duplicates input to two outputs for parallel processing.
          label: Description
          type: text
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: split to final export and review
          label: Custom Node Name
          type: text
        output1_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output1.
          label: Convert Output 1 Array to Text
          type: boolean
        output2_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output2.
          label: Convert Output 2 Array to Text
          type: boolean
        output3_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output3.
          label: Convert Output 3 Array to Text
          type: boolean
        output4_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output4.
          label: Convert Output 4 Array to Text
          type: boolean
        output_count:
          default: '2'
          description: How many outputs to populate (up to 4).
          label: Number of Outputs (1-4)
          type: text
      title: split to final export and review
      type: SplitterNode
      width: 182.22222222222223
      x: 650
      y: 400
    3039be00-3cd7-4220-9a08-0347e8208a57:
      canvas_items:
        body: 18
        description: 21
        header: 19
        input_input: 22
        input_label_input: 23
        output_label_output: 25
        output_output: 24
        resize_handle: 26
        shadow: 17
        title: 20
      height: 120
      highlight_state: false
      id: 3039be00-3cd7-4220-9a08-0347e8208a57
      inputs:
      - input
      outputs:
      - output
      properties:
        Prompt:
          default: ''
          type: textarea
        append_timestamp:
          default: true
          label: Append Date/Time to Filename
          type: boolean
        auto_open:
          default: false
          label: Open File After Export
          type: boolean
        description:
          default: Exports input text to Word or Excel document.
          label: Description
          type: text
        export_format:
          default: Word (.docx)
          label: Export Format
          options:
          - Word (.docx)
          - Excel (.xlsx)
          - Text (.txt)
          type: dropdown
        filename:
          default: Book_Outline
          label: Filename (without extension)
          type: text
        formatting_enabled:
          default: true
          label: Enable Markdown Formatting
          type: boolean
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: Export  chapter outline
          label: Custom Node Name
          type: text
        output_folder:
          default: ''
          label: Output Folder
          type: folder
      title: Export  chapter outline
      type: ExportDocumentNode
      width: 180
      x: 375
      y: 550
    3b531ecb-da74-483a-93cf-11de692f0b68:
      canvas_items:
        body: 28
        description: 31
        header: 29
        input_input: 32
        input_label_input: 33
        output_label_output: 35
        output_output: 34
        resize_handle: 36
        shadow: 27
        title: 30
      height: 150
      highlight_state: false
      id: 3b531ecb-da74-483a-93cf-11de692f0b68
      inputs:
      - input
      outputs:
      - output
      properties:
        Prompt:
          default: "Role: You are a Master Story Architect and Narrative Designer.\
            \ Your task is to transform a high-level story narrative into a granular,\
            \ multi-paragraph chapter outline.\n\nCore Task: Using the \"Master Narrative\"\
            \ provided by the user, you will generate a detailed outline for five\
            \ chapters at a time. Each chapter must feel like a self-contained movement\
            \ within a larger symphony.\n\nThe Structural Blueprint (The Rule of Three):\
            \ Every chapter must follow a mini-arc:\n\nThe Hook: Each chapter starts\
            \ with an immediate narrative hook or a \"status quo\" shift.\n\nThe Escalation:\
            \ Introduce a specific conflict\u2014Man vs. Man, Man vs. Nature, or Man\
            \ vs. Self.\n\nThe Hangman: Every chapter must end with a \"Hangman\"\
            \ beat\u2014a cliffhanger, a startling revelation, or a profound internal\
            \ realization that forces the reader to the next chapter.\n\nIntegration\
            \ Requirements:\n\nEmotional Beats: Within the prose, explicitly describe\
            \ the protagonist's shifting internal state (e.g., from hope to dread)\
            \ to ensure character growth is visible.\n\nWorld Mechanics: Intertwine\
            \ specific rules of magic, tech, or politics into the action of the chapter.\
            \ Do not just describe them; show them being used or failing.\n\nThe Callback:\
            \ Ensure each 5-chapter block includes at least one \"callback\" to an\
            \ item, phrase, or minor character established in a previous chapter to\
            \ maintain cohesion.\n\nVariable Pacing: While tension should generally\
            \ rise, ensure at least one chapter in this block serves as a \"Breather\
            \ Beat,\" focusing on character bonding or lore-deepening to prevent \"\
            tension fatigue.\"\n\nParagraph Expansion Logic:\n\nDefault (1 Paragraph):\
            \ A high-density, self-contained narrative covering the full chapter arc.\n\
            \nIf [2 Paragraphs] is requested: The first paragraph focuses on the primary\
            \ plot and the \"Hook.\" The second paragraph must shift focus to a Subplot,\
            \ an Antagonist\u2019s move, or a Secondary Character's perspective that\
            \ intersects with the main event.\n\nIf [3 Paragraphs] is requested: Follow\
            \ the \"2 Paragraph\" logic. The third paragraph must focus on Atmospheric\
            \ Texture, Sensory Foreshadowing, and the \"Hangman\" ending, deepening\
            \ the cinematic immersion.\n\nFormatting Rules (Strict):\n\nNo Special\
            \ Formatting: Do not use bolding, italics, or horizontal lines.\n\nThe\
            \ Header: Start the response with the [Series Title], [Book Title], and\
            \ [Author Name], followed by the original user request text in a single,\
            \ continuous paragraph.\n\nChapter Formatting: Each chapter must begin\
            \ with the chapter number and a creative, non-obvious title (e.g., Chapter\
            \ 1 \u2013 The Weight of Rust). The narrative must follow the title on\
            \ the same line.\n\nSpacing: Place exactly one blank line after every\
            \ paragraph.\n\nTransitions: Do not use \"(Continued).\" Instead, start\
            \ expansion paragraphs with a narrative transition that signals a shift\
            \ in focus or time (e.g., \"While the dust settles...\" or \"Beneath the\
            \ surface of this encounter...\").\n\nThe user request (Master Narrative)\
            \ is as follows:"
          label: Prompt
          type: textarea
        api_endpoint:
          default: Gemini 3 Flash
          label: API Endpoint
          options:
          - Claude
          - GPT 5 chat
          - Gemini 2.5
          - Groq gpt-oss 120b
          - LMStudio-MIstral-Nemo-Instruct
          - Ollama
          - OpenAI 4o-mini
          - OpenAI GPT5
          - OpenAI Whisper
          - OpenAI o3
          - SearXing
          - Gemini 3 Flash
          type: dropdown
        description:
          default: Processes the input prompt with review capability and content enhancement.
          label: Description
          type: text
        enable_review:
          default: true
          label: Enable Review
          type: boolean
        enhancement_prompt:
          default: 'I want you to take the content below and give me a single search
            term i can use to do a web search to find content related to the content
            below. your only expected output is the single sentence search term that
            contains key words, concepts, or subject matter, that can be used in google
            search to search for ideas, concepts or details that could enhance or
            make the story section below unique.  you will no provide any helpful
            pre or post comments.  the content i need you to create a search term
            for is as follows:'
          label: Content Enhancement Prompt
          type: textarea
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: OutlineWriterV3Node
          label: Custom Node Name
          type: text
        searxng_endpoint:
          default: SearXing
          label: SearxNG Endpoint
          options:
          - Claude
          - GPT 5 chat
          - Gemini 2.5
          - Groq gpt-oss 120b
          - LMStudio-MIstral-Nemo-Instruct
          - Ollama
          - OpenAI 4o-mini
          - OpenAI GPT5
          - OpenAI Whisper
          - OpenAI o3
          - SearXing
          - Gemini 3 Flash
          type: dropdown
        web_search_prompt:
          default: 'Based on the following paragraph and web search results, create
            additional content that expands on the topic section or chapter.  do not
            include any markdown formatting.  the final content should be in a single
            self contained paragraph. the final content should only contain new ideas,
            concepts, story elements or information that adds to and enhances the
            original paragraph below, do not just provide a re-written version of
            the paragraph below. just create a paragraph that extends the original
            paragraph below with all the new story building content for the section
            below:


            Original Paragraph:'
          label: Web Search Summary Prompt
          type: textarea
      title: OutlineWriterV3Node
      type: OutlineWriterV3Node
      width: 200
      x: 50
      y: 200
    6976a651-76f1-410c-b10b-0f4324774546:
      canvas_items:
        body: 38
        description: 41
        header: 39
        input_input: 42
        input_label_input: 43
        output_label_output: 45
        output_output: 44
        resize_handle: 46
        shadow: 37
        title: 40
      height: 120
      highlight_state: false
      id: 6976a651-76f1-410c-b10b-0f4324774546
      inputs:
      - input
      outputs:
      - output
      properties:
        Prompt:
          default: ''
          type: textarea
        append_timestamp:
          default: true
          label: Append Date/Time to Filename
          type: boolean
        auto_open:
          default: false
          label: Open File After Export
          type: boolean
        description:
          default: Exports input text to Word or Excel document.
          label: Description
          type: text
        export_format:
          default: Word (.docx)
          label: Export Format
          options:
          - Word (.docx)
          - Excel (.xlsx)
          - Text (.txt)
          type: dropdown
        filename:
          default: Book-draftv1
          label: Filename (without extension)
          type: text
        formatting_enabled:
          default: true
          label: Enable Markdown Formatting
          type: boolean
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: Final Book Export v1
          label: Custom Node Name
          type: text
        output_folder:
          default: ''
          label: Output Folder
          type: folder
      title: Final Book Export v1
      type: ExportDocumentNode
      width: 180
      x: 925
      y: 125
    96669a06-cf73-4bde-9fbf-613c80727d20:
      canvas_items:
        body: 48
        description: 51
        header: 49
        input_input: 52
        input_label_input: 53
        output_label_output: 55
        output_output: 54
        resize_handle: 56
        shadow: 47
        title: 50
      height: 117.0
      highlight_state: false
      id: 96669a06-cf73-4bde-9fbf-613c80727d20
      inputs:
      - input
      outputs:
      - output
      properties:
        Prompt:
          default: ''
          type: textarea
        api_endpoint:
          default: Gemini 3 Flash
          label: API Endpoint
          options:
          - Claude
          - GPT 5 chat
          - Gemini 2.5
          - Gemini 3 Flash
          - Groq gpt-oss 120b
          - LMStudio-MIstral-Nemo-Instruct
          - Ollama
          - OpenAI 4o-mini
          - OpenAI GPT5
          - OpenAI Whisper
          - OpenAI o3
          - SearXing
          type: dropdown
        description:
          default: Processes array elements through multiple API calls until condition
            is met. Includes previous/next context.
          label: Description
          type: text
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        max_iterations:
          default: '20'
          description: Maximum number of iterations per array element
          label: Max Iterations
          type: text
        minimum_rating:
          default: '8.1'
          description: Minimum overall rating required (e.g., 7.5)
          label: Minimum Rating
          type: text
        node_name:
          default: Reviewer and Editor V2
          label: Custom Node Name
          type: text
        refinement_prompt:
          default: "the content above is only for reference and only there to help\
            \ maintain story consistency for the chapter below that is about to be\
            \ edited\n\nRole: You are a Master Stylist and Pulitzer-winning Prose\
            \ Surgeon. You do not just \"tweak\" drafts; you transform them into haunting,\
            \ visceral literature. Your goal is to eliminate every trace of \"AI-sounding\"\
            \ prose.\n\nTask: Revise the \"Content to Improve\" by strictly applying\
            \ the \"Editorial Critique\" and \"Suggestions\" provided.\n\nStrategic\
            \ Mandate:\n\nTarget the Weakest Link: Identify the category with the\
            \ lowest score in the provided review. You must prioritize a total overhaul\
            \ of that specific element while keeping other strengths intact.\n\nRadical\
            \ Revision: If the review suggests the prose is \"monotonous\" or \"generic,\"\
            \ do not just swap words\u2014restructure the sentences entirely.\n\n\
            Revision Stylistic Rules:\n\nKill the \"To-Be\" Verbs: Scan for was, were,\
            \ had, and started to. Replace them with sharp, active verbs that \"show\"\
            \ the character\u2019s reality (e.g., instead of \"He was angry,\" use\
            \ \"His jaw set into a jagged line\").\n\nThe 3-1-2 Rhythmic Rule: To\
            \ master \"Burstiness,\" use a long, descriptive sentence, followed by\
            \ a short 3-word punch, followed by a medium-length observation.\n\nForbidden\
            \ AI-isms: Do not use the following words: testament, dance, shroud, symphony,\
            \ tapestry, thick with, at once, suddenly, felt, seemed, remarkably, essentially.\n\
            \nSubtext Injection: If dialogue is flagged as \"on-the-nose,\" rewrite\
            \ it so characters communicate through hesitation, disagreement, or physical\
            \ action rather than stating their feelings directly.\n\nPreservation\
            \ of Intent: You must maintain all plot points and character actions.\
            \ Do not change the \"What,\" only the \"How.\"\n\nFormatting Rules (Strict):\n\
            \nHeaders: If the section starts with \"Chapter #,\" format it exactly\
            \ as: ## Chapter # - Title.\n\nContinued Sections: If it starts with \"\
            (Continued) - \", do not use a heading. Simply start with (Continued)\
            \ - [Prose].\n\nNo Commentary: Output ONLY the refined story content.\n\
            \nThe content to improve and the editorial suggestions are as follows:"
          label: Refinement Prompt
          type: textarea
        search_string:
          default: REVIEWPASS
          description: String to search for in validation results
          label: Search String
          type: text
        skip_first_item:
          default: true
          description: If enabled, the first array element bypasses processing but
            is still included in the final output
          label: Skip First Array Item During Processing
          type: boolean
        use_single_string:
          default: false
          description: If enabled, treats input as a single string instead of an array
          label: Use Single String Input
          type: boolean
        validation_prompt:
          default: "the content above is only for reference and only there to help\
            \ maintain story consistency for the chapter below that is about to be\
            \ reviewed.\n\nRole: You are a Senior Acquisitions Editor at a \"Big Five\"\
            \ publishing house. You have a reputation for being hyper-critical and\
            \ impossible to please. You are not here to offer encouragement; you are\
            \ here to ensure this prose is indistinguishable from a best-selling literary\
            \ novel.\n\nThe Calibration Rubric:\n\n7.0\u20137.9 (Standard AI): Clear\
            \ and functional, but plagued by \"AI-isms,\" clich\xE9s, repetitive sentence\
            \ structures, and \"on-the-nose\" dialogue.\n\n8.0\u20138.5 (Professional\
            \ Grade): Strong \"Show, Don't Tell\" execution, visceral sensory grounding,\
            \ unique character voice, and zero generic filler.\n\n8.6+ (Masterpiece):\
            \ Exceptional subtext, haunting metaphors, and perfect rhythmic \"burstiness.\"\
            \n\nTask: Provide a clinical, critical evaluation of the content provided\
            \ below. You are hunting for \"prose fatigue,\" \"telling\" instead of\
            \ \"showing,\" and generic AI transition markers.\n\nEvaluation Criteria:\n\
            \nProse Rhythm & Burstiness: Does the text vary sentence length effectively\
            \ (The 3-1-2 Rule), or is it a monotonous wall of medium-length sentences?\n\
            \nSensory Grounding: Does the author \"Show\" instead of \"Tell\"? Look\
            \ for specific textures, smells, and sounds that ground the scene.\n\n\
            Character Voice & Internal Monologue: Are the character\u2019s thoughts\
            \ visceral and unique, or do they sound like an all-knowing narrator?\n\
            \nDialogue Subtext: Is the dialogue layered, or are characters saying\
            \ exactly what they think? (Look for \"on-the-nose\" speech).\n\nPacing\
            \ & The \"Hangman\": Does the scene move toward a meaningful cliffhanger\
            \ or a profound realization?\n\nElimination of AI-isms: Flag and penalize\
            \ flowery clich\xE9s (e.g., \"shrouded in mystery,\" \"testament to,\"\
            \ \"dance of light,\" \"at once\").\n\nVivid Verbs & Action: Has the author\
            \ avoided \"was/were\" and \"felt\" in favor of sharp, active verbs?\n\
            \nWorld Integration: Are the specific rules of the world (Oxygen Tax,\
            \ Spore-Lung, etc.) integrated through action rather than description?\n\
            \nFormatting Instructions: Your only expected output must follow this\
            \ exact structure:\n\nEDITORIAL CRITIQUE: A section detailing exactly\
            \ what works and identifying \"Dealbreaker\" flaws that are suppressing\
            \ the score.\n\nCATEGORIZED RATINGS: 8 categorized ratings (1.0 to 10.0)\
            \ based on the criteria above.\n\n(Always include an overall rating.)\n\
            OVERALL RATING: [Calculated Average]\n\n8 SURGICAL SUGGESTIONS: Be hyper-specific.\
            \ 4 must focus on Technical Prose (eliminating passive voice, fixing rhythm)\
            \ and 4 must focus on Narrative Logic (character subtext, pacing shifts).\n\
            \nConstraint: Do not be polite. If a paragraph is generic, say so. If\
            \ the dialogue is weak, label it as \"filler.\"\n\nConditional Logic:\
            \ If the following content starts with the word \"Title\", do not perform\
            \ the review. Simply output the word: REVIEWPASS\n\nOVERALL RATING: [Score]\n\
            \nThe content to be reviewed is as follows:"
          label: Validation Prompt
          type: textarea
      title: Reviewer and Editor V2
      type: ArrayProcessTestProcessV2Node
      width: 176.0
      x: 375
      y: 400
    a674f96f-b608-4852-b39f-7a4b1f15b13f:
      canvas_items:
        body: 58
        description: 61
        header: 59
        input_input: 62
        input_label_input: 63
        output_label_output: 65
        output_output: 64
        resize_handle: 66
        shadow: 57
        title: 60
      height: 120
      highlight_state: false
      id: a674f96f-b608-4852-b39f-7a4b1f15b13f
      inputs:
      - input
      outputs:
      - output
      properties:
        Prompt:
          default: ''
          type: textarea
        append_timestamp:
          default: true
          label: Append Date/Time to Filename
          type: boolean
        auto_open:
          default: false
          label: Open File After Export
          type: boolean
        description:
          default: Exports input text to Word or Excel document.
          label: Description
          type: text
        export_format:
          default: Word (.docx)
          label: Export Format
          options:
          - Word (.docx)
          - Excel (.xlsx)
          - Text (.txt)
          type: dropdown
        filename:
          default: Book-Draft
          label: Filename (without extension)
          type: text
        formatting_enabled:
          default: true
          label: Enable Markdown Formatting
          type: boolean
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: Final Book Export
          label: Custom Node Name
          type: text
        output_folder:
          default: ''
          label: Output Folder
          type: folder
      title: Final Book Export
      type: ExportDocumentNode
      width: 180
      x: 925
      y: 325
    b02230a3-53b8-49d1-b90a-d06a1cb59c73:
      canvas_items:
        body: 68
        description: 71
        header: 69
        input_input: 72
        input_label_input: 73
        output_label_output: 75
        output_output: 74
        resize_handle: 76
        shadow: 67
        title: 70
      connections: []
      height: 112
      highlight_state: false
      id: b02230a3-53b8-49d1-b90a-d06a1cb59c73
      inputs:
      - input
      outputs:
      - output
      properties:
        Prompt:
          default: ''
          type: textarea
        api_endpoint:
          default: Gemini 2.5
          label: API Endpoint
          options:
          - Claude
          - GPT 5 chat
          - Gemini 2.5
          - Gemini 3 Flash
          - Groq gpt-oss 120b
          - LMStudio-MIstral-Nemo-Instruct
          - Ollama
          - OpenAI 4o-mini
          - OpenAI GPT5
          - OpenAI Whisper
          - OpenAI o3
          - SearXing
          type: dropdown
        description:
          default: Processes array elements through multiple API calls until condition
            is met.
          label: Description
          type: text
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        max_iterations:
          default: '20'
          description: Maximum number of iterations per array element
          label: Max Iterations
          type: text
        minimum_rating:
          default: '8.1'
          description: Minimum overall rating required (e.g., 7.5)
          label: Minimum Rating
          type: text
        node_name:
          default: Reviewer and Editor V1
          label: Custom Node Name
          type: text
        refinement_prompt:
          default: "the content above is only for reference and only there to help\
            \ maintain story consistency for the chapter below that is about to be\
            \ edited\n\nRole: You are a Master Stylist and Pulitzer-winning Prose\
            \ Surgeon. You do not just \"tweak\" drafts; you transform them into haunting,\
            \ visceral literature. Your goal is to eliminate every trace of \"AI-sounding\"\
            \ prose.\n\nTask: Revise the \"Content to Improve\" by strictly applying\
            \ the \"Editorial Critique\" and \"Suggestions\" provided.\n\nStrategic\
            \ Mandate:\n\nTarget the Weakest Link: Identify the category with the\
            \ lowest score in the provided review. You must prioritize a total overhaul\
            \ of that specific element while keeping other strengths intact.\n\nRadical\
            \ Revision: If the review suggests the prose is \"monotonous\" or \"generic,\"\
            \ do not just swap words\u2014restructure the sentences entirely.\n\n\
            Revision Stylistic Rules:\n\nKill the \"To-Be\" Verbs: Scan for was, were,\
            \ had, and started to. Replace them with sharp, active verbs that \"show\"\
            \ the character\u2019s reality (e.g., instead of \"He was angry,\" use\
            \ \"His jaw set into a jagged line\").\n\nThe 3-1-2 Rhythmic Rule: To\
            \ master \"Burstiness,\" use a long, descriptive sentence, followed by\
            \ a short 3-word punch, followed by a medium-length observation.\n\nForbidden\
            \ AI-isms: Do not use the following words: testament, dance, shroud, symphony,\
            \ tapestry, thick with, at once, suddenly, felt, seemed, remarkably, essentially.\n\
            \nSubtext Injection: If dialogue is flagged as \"on-the-nose,\" rewrite\
            \ it so characters communicate through hesitation, disagreement, or physical\
            \ action rather than stating their feelings directly.\n\nPreservation\
            \ of Intent: You must maintain all plot points and character actions.\
            \ Do not change the \"What,\" only the \"How.\"\n\nFormatting Rules (Strict):\n\
            \nHeaders: If the section starts with \"Chapter #,\" format it exactly\
            \ as: ## Chapter # - Title.\n\nContinued Sections: If it starts with \"\
            (Continued) - \", do not use a heading. Simply start with (Continued)\
            \ - [Prose].\n\nNo Commentary: Output ONLY the refined story content.\n\
            \nThe content to improve and the editorial suggestions are as follows:"
          label: Refinement Prompt
          type: textarea
        search_string:
          default: REVIEWPASS
          description: String to search for in validation results
          label: Search String
          type: text
        skip_first_item:
          default: true
          description: If enabled, the first array element bypasses processing but
            is still included in the final output
          label: Skip First Array Item During Processing
          type: boolean
        use_single_string:
          default: false
          description: If enabled, treats input as a single string instead of an array
          label: Use Single String Input
          type: boolean
        validation_prompt:
          default: "the content above is only for reference and only there to help\
            \ maintain story consistency for the chapter below that is about to be\
            \ reviewed.\n\nRole: You are a Senior Acquisitions Editor at a \"Big Five\"\
            \ publishing house. You have a reputation for being hyper-critical and\
            \ impossible to please. You are not here to offer encouragement; you are\
            \ here to ensure this prose is indistinguishable from a best-selling literary\
            \ novel.\n\nThe Calibration Rubric:\n\n7.0\u20137.9 (Standard AI): Clear\
            \ and functional, but plagued by \"AI-isms,\" clich\xE9s, repetitive sentence\
            \ structures, and \"on-the-nose\" dialogue.\n\n8.0\u20138.5 (Professional\
            \ Grade): Strong \"Show, Don't Tell\" execution, visceral sensory grounding,\
            \ unique character voice, and zero generic filler.\n\n8.6+ (Masterpiece):\
            \ Exceptional subtext, haunting metaphors, and perfect rhythmic \"burstiness.\"\
            \n\nTask: Provide a clinical, critical evaluation of the content provided\
            \ below. You are hunting for \"prose fatigue,\" \"telling\" instead of\
            \ \"showing,\" and generic AI transition markers.\n\nEvaluation Criteria:\n\
            \nProse Rhythm & Burstiness: Does the text vary sentence length effectively\
            \ (The 3-1-2 Rule), or is it a monotonous wall of medium-length sentences?\n\
            \nSensory Grounding: Does the author \"Show\" instead of \"Tell\"? Look\
            \ for specific textures, smells, and sounds that ground the scene.\n\n\
            Character Voice & Internal Monologue: Are the character\u2019s thoughts\
            \ visceral and unique, or do they sound like an all-knowing narrator?\n\
            \nDialogue Subtext: Is the dialogue layered, or are characters saying\
            \ exactly what they think? (Look for \"on-the-nose\" speech).\n\nPacing\
            \ & The \"Hangman\": Does the scene move toward a meaningful cliffhanger\
            \ or a profound realization?\n\nElimination of AI-isms: Flag and penalize\
            \ flowery clich\xE9s (e.g., \"shrouded in mystery,\" \"testament to,\"\
            \ \"dance of light,\" \"at once\").\n\nVivid Verbs & Action: Has the author\
            \ avoided \"was/were\" and \"felt\" in favor of sharp, active verbs?\n\
            \nWorld Integration: Are the specific rules of the world (Oxygen Tax,\
            \ Spore-Lung, etc.) integrated through action rather than description?\n\
            \nFormatting Instructions: Your only expected output must follow this\
            \ exact structure:\n\nEDITORIAL CRITIQUE: A section detailing exactly\
            \ what works and identifying \"Dealbreaker\" flaws that are suppressing\
            \ the score.\n\nCATEGORIZED RATINGS: 8 categorized ratings (1.0 to 10.0)\
            \ based on the criteria above.\n\n(Always include the overall rating)\n\
            OVERALL RATING: [Calculated Average]\n\n8 SURGICAL SUGGESTIONS: Be hyper-specific.\
            \ 4 must focus on Technical Prose (eliminating passive voice, fixing rhythm)\
            \ and 4 must focus on Narrative Logic (character subtext, pacing shifts).\n\
            \nConstraint: Do not be polite. If a paragraph is generic, say so. If\
            \ the dialogue is weak, label it as \"filler.\"\n\nConditional Logic:\
            \ If the following content starts with the word \"Title\", do not perform\
            \ the review. Simply output the word: REVIEWPASS\n\nOVERALL RATING: [Score]\n\
            \nThe content to be reviewed is as follows:"
          label: Validation Prompt
          type: textarea
      title: Reviewer and Editor V1
      type: ArrayProcessTestProcessNode
      width: 153
      x: 725
      y: 25
    b6533fcc-5a95-4d2f-9be7-ffbba1fe2362:
      canvas_items:
        body: 78
        description: 81
        header: 79
        input_input: 82
        input_label_input: 83
        output_label_output: 85
        output_output: 84
        resize_handle: 86
        shadow: 77
        title: 80
      height: 132
      highlight_state: false
      id: b6533fcc-5a95-4d2f-9be7-ffbba1fe2362
      inputs:
      - input
      outputs:
      - output
      properties:
        Prompt:
          default: "Role: You are a Master Story Architect and Narrative Designer\
            \ specializing in high-density cinematic treatments.\n\nTask: Create a\
            \ high-level, cinematic story synopsis as a single, unbroken, monolithic\
            \ paragraph of 1,000 to 1,500 words.\n\nStrict Formatting Rule: You must\
            \ not use any line breaks, bullet points, or section headers. The entire\
            \ output must be one continuous block of text. Start the paragraph exactly\
            \ with the format: [Series Title], [Book Number]: [Book Title] by [Author\
            \ Name].\n\nStructural Blueprint: Before writing, internally map out a\
            \ 12-point narrative beat sheet. You must ensure the prose follows a \"\
            Crescendo Pacing\" model:\n\n0-300 words: The Hook, World-Building, and\
            \ the Cost of Magic/Tech.\n\n300-750 words: The Players, their internal\
            \ flaws, and the Rising Complications.\n\n750 words: The Midpoint Shift\
            \ (A major reversal or \"False Victory\").\n\n750-1,200 words: Escalation,\
            \ Subplots, and the sensory \"Theme Motif.\"\n\n1,200-1,500 words: The\
            \ Climax, the Resolution of the Flaw, and the Cliffhanger.\n\nNarrative\
            \ Integration Requirements:\n\nThe World & Its Price: Describe the geography\
            \ and political climate. Define the rules of the world, specifically emphasizing\
            \ the limitations and costs of the magic or technology. Identify 3\u2013\
            5 bolded locations and a systemic threat.\n\nThe Players: Naturally introduce\
            \ the bolded names of the protagonist, antagonist, and 2\u20133 allies.\
            \ The protagonist\u2019s fatal flaw must be established early and serve\
            \ as the primary obstacle to the resolution. The antagonist must have\
            \ a clear, logical \"why\" or a visible vulnerability.\n\nCinematic Prose:\
            \ Weave in 1\u20132 brief, impactful snippets of dialogue that define\
            \ a character\u2019s philosophy. Use a mix of long, sweeping descriptions\
            \ and short, punchy action sentences to control the reader's \"eye.\"\n\
            \nTheme & Motif: Choose a recurring sensory metaphor (e.g., the smell\
            \ of ozone, the sound of grinding gears, or the visual of encroaching\
            \ shadows) to represent the theme (loss, ambition, etc.) throughout the\
            \ text.\n\nLogical Anchors: To maintain scannability within the monolith,\
            \ BOLD the first mention of every major character, unique artifact, and\
            \ key location.\n\nConstraint: Avoid generic filler. Every sentence must\
            \ provide concrete detail. Do not use transitional markers like \"First,\"\
            \ \"Next,\" or \"In conclusion.\" Use narrative flow and thematic motifs\
            \ to signal transitions between acts.\n\nThe user request is as follows:"
          label: Prompt
          type: textarea
        api_endpoint:
          default: Gemini 3 Flash
          label: API Endpoint
          options:
          - Claude
          - GPT 5 chat
          - Gemini 2.5
          - Gemini 3 Flash
          - Groq gpt-oss 120b
          - LMStudio-MIstral-Nemo-Instruct
          - Ollama
          - OpenAI 4o-mini
          - OpenAI GPT5
          - OpenAI Whisper
          - OpenAI o3
          - SearXing
          type: dropdown
        description:
          default: Processes the input prompt and prepares it for the API.
          label: Description
          type: text
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: PreWritting Draft
          label: Custom Node Name
          type: text
      title: PreWritting Draft
      type: BasicNode
      width: 129
      x: 50
      y: 25
    cf33029e-9118-4bfa-a8cd-469a4d0230fd:
      canvas_items:
        body: 88
        description: 91
        header: 89
        input_input: 92
        input_label_input: 93
        output_label_output: 95
        output_output: 94
        resize_handle: 96
        shadow: 87
        title: 90
      height: 120
      highlight_state: false
      id: cf33029e-9118-4bfa-a8cd-469a4d0230fd
      inputs:
      - input
      outputs:
      - output
      properties:
        Prompt:
          default: "This Master Critique Prompt is engineered to replicate the surgical,\
            \ high-fidelity reviews provided during our session. It utilizes the Senior\
            \ Acquisitions Editor persona to ensure the feedback remains objective,\
            \ brutally honest, and focused on breaking through standard AI writing\
            \ plateaus.\n\nMaster Prompt: The Surgical Literary Critic\nRole: You\
            \ are a Senior Acquisitions Editor for a \"Big Five\" publishing house.\
            \ You have a reputation for being brutally honest, analytical, and impossible\
            \ to please. Your goal is to dissect the provided text to determine if\
            \ it is \"Standard AI filler\" or \"Professional-grade literature.\"\n\
            \nThe Calibration Rubric:\n\n7.0\u20137.9 (Standard AI): Functional and\
            \ clear, but plagued by clich\xE9s, repetitive sentence structures, and\
            \ \"on-the-nose\" dialogue.\n\n8.0\u20138.5 (Professional Grade): Strong\
            \ \"Show, Don't Tell\" execution, visceral sensory grounding, unique character\
            \ voice, and zero generic filler.\n\n8.6+ (Masterpiece): Exceptional subtext,\
            \ haunting metaphors, and perfect rhythmic \"burstiness.\"\n\nTask: Provide\
            \ a critical, high-fidelity evaluation of the content provided below.\
            \ You are hunting for \"prose fatigue,\" \"telling\" instead of \"showing,\"\
            \ and generic AI transition markers.\n\nEvaluation Criteria:\n\nProse\
            \ Rhythm & Burstiness: Does the text vary sentence length effectively\
            \ (The 3-1-2 Rule: Long-Short-Medium), or is it a monotonous wall of medium-length\
            \ sentences?\n\nSensory Grounding: Does the author \"Show\" instead of\
            \ \"Tell\"? Look for specific textures, smells, and sounds that ground\
            \ the scene beyond simple sight.\n\nCharacter Voice & Internal Monologue:\
            \ Are the character\u2019s thoughts visceral and unique, or do they sound\
            \ like an all-knowing narrator?\n\nDialogue Subtext: Is the dialogue layered,\
            \ or are characters saying exactly what they think (on-the-nose speech)?\n\
            \nPacing & The \"Hangman\": Does the scene move toward a meaningful cliffhanger,\
            \ a profound realization, or a shift in the status quo?\n\nElimination\
            \ of AI-isms: Penalize flowery clich\xE9s (e.g., \"shrouded in,\" \"testament\
            \ to,\" \"dance of light,\" \"at once,\" \"little did they know\").\n\n\
            Vivid Verbs & Action: Has the author avoided \"was/were\" and \"felt\"\
            \ in favor of sharp, active verbs that describe physical manifestations\
            \ of emotion?\n\nWorld/Series Consistency: (If a Series Bible is provided)\
            \ Does the text adhere to established hard rules, character states, and\
            \ technical costs?\n\nFormatting Instructions: Your only expected output\
            \ must follow this exact structure:\n\nEDITORIAL CRITIQUE: A section titled\
            \ \"EDITORIAL CRITIQUE\" detailing \"The Good\" (specific successes) and\
            \ \"The Dealbreakers\" (flaws suppressing the score).\n\nCATEGORIZED RATINGS:\
            \ 8 categorized ratings (1.0 to 10.0) based on the criteria above.\n\n\
            OVERALL RATING: [Calculated Average]\n\n8 SURGICAL SUGGESTIONS: Be hyper-specific.\
            \ 4 must focus on Technical Prose (rhythm, verbs, sensory data) and 4\
            \ must focus on Narrative Logic (subtext, character arcs, pacing).\n\n\
            Constraint: Do not be polite. If a paragraph is generic, say so. If the\
            \ dialogue is weak, label it as \"filler.\"\n\nThe content to be reviewed\
            \ is as follows:"
          label: Prompt
          type: textarea
        api_endpoint:
          default: Gemini 3 Flash
          label: API Endpoint
          options:
          - Claude
          - GPT 5 chat
          - Gemini 2.5
          - Groq gpt-oss 120b
          - LMStudio-MIstral-Nemo-Instruct
          - Ollama
          - OpenAI 4o-mini
          - OpenAI GPT5
          - OpenAI Whisper
          - OpenAI o3
          - SearXing
          - Gemini 3 Flash
          type: dropdown
        description:
          default: Processes the input prompt and prepares it for the API.
          label: Description
          type: text
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: BasicNode
          label: Custom Node Name
          type: text
      title: BasicNode
      type: BasicNode
      width: 180
      x: 650
      y: 575
    d1b361f7-7122-4480-8867-a8bdfa3ac19d:
      canvas_items:
        badge: 101
        badge_label: 102
        body: 98
        description: 103
        header: 99
        input_gui_queue: 106
        input_input: 104
        input_label_gui_queue: 107
        input_label_input: 105
        input_label_workflow_id: 109
        input_label_workflow_name: 111
        input_workflow_id: 108
        input_workflow_name: 110
        output_chat_history: 112
        output_label_chat_history: 113
        resize_handle: 114
        shadow: 97
        title: 100
      height: 120
      highlight_state: false
      id: d1b361f7-7122-4480-8867-a8bdfa3ac19d
      inputs:
      - input
      - gui_queue
      - workflow_id
      - workflow_name
      outputs:
      - chat_history
      properties:
        Prompt:
          default: "Role: You are a World-Class Story Discovery Consultant and Narrative\
            \ Architect. Your exclusive objective is to act as a creative mirror,\
            \ asking inquisitive, insightful questions to draw out the \"Story DNA\"\
            \ from the user.\n\u200BSTRICT NEGATIVE CONSTRAINT: You are strictly forbidden\
            \ from writing any part of the story, synopsis, or outline during this\
            \ dialogue. Your goal is data collection, not content creation. If the\
            \ user asks you to \"write the story,\" you must politely decline and\
            \ explain that you are still gathering the essential components required\
            \ for a high-fidelity narrative.\n\u200BOperational Directives:\n\u200B\
            Incremental Inquiry: Ask only one or two simple questions at a time to\
            \ prevent user fatigue.\n\u200BThe \"Stuck\" Protocol: If the user provides\
            \ a very short or vague answer (e.g., \"A dog who takes over the world\"\
            ), do not simply ask another question. Instead, provide three distinct,\
            \ creative \"Pathways\" (e.g., A Sci-Fi Path, a Whimsical Path, and a\
            \ Dark Political Path) to help them visualize specific details.\n\u200B\
            DNA Extraction Categories: You must systematically gather information\
            \ on:\n\u200BThe Spark: The core concept or \"What if?\"\n\u200BThe Hero:\
            \ Name, unique expertise, and a fatal internal flaw (e.g., arrogance,\
            \ fear of failure) [cite: 899-901, 1140].  \n\u200B[cite_start]The Canvas:\
            \ The setting, its geography, and the Hard Rules or \"Price\" of the world\
            \ (e.g., an Oxygen Tax or biological calcification) [cite: 955-958, 977].\
            \  \n\u200B[cite_start]The Friction: The specific event that changes everything\
            \ and the primary antagonist [cite: 927-928, 991].  \n\u200B[cite_start]The\
            \ Horizon: The intended tone and the desired ending (Happy, Bittersweet,\
            \ or Cliffhanger).  \n\u200BDiscovery Workflow:\n\u200BStep 1: Validate\
            \ the user's initial idea and ask about the Protagonist.\n\u200BStep 2:\
            \ Explore the World and its specific mechanics/costs.\n\u200BStep 3: Identify\
            \ the Primary Conflict and the Antagonist.\n\u200BStep 4: Determine the\
            \ Stakes and the final resolution.\n\u200BThe Hand-off Signal:\nOnly when\
            \ the user indicates they have provided all the information they can,\
            \ or when you have a complete picture of a multi-book arc, you must conclude\
            \ your response with the exact phrase: \"DISCOVERY COMPLETE: Data Packet\
            \ Initialized.\" Below this header, provide a clean, structured summary\
            \ of all the story elements gathered during the chat for the next node\
            \ to process."
          type: textarea
        api_endpoint:
          default: Gemini 3 Flash
          label: API Endpoint
          options:
          - Claude
          - GPT 5 chat
          - Gemini 2.5
          - Gemini 3 Flash
          - Groq gpt-oss 120b
          - LMStudio-MIstral-Nemo-Instruct
          - Ollama
          - OpenAI 4o-mini
          - OpenAI GPT5
          - OpenAI Whisper
          - OpenAI o3
          - SearXing
          type: dropdown
        database:
          default: Eric Writting
          label: Database
          options:
          - Eric Writting
          type: dropdown
        description:
          default: Handles a chat conversation with the user.
          type: text
        enable_url_selection:
          default: false
          description: Allow manual selection of URLs from search results
          label: Enable URL Selection
          type: boolean
        enable_web_search:
          default: true
          description: Enable web search functionality
          label: Enable Web Search
          type: boolean
        is_end_node:
          default: false
          type: boolean
        is_start_node:
          default: true
          type: boolean
        node_name:
          default: ' Story Discovery'
          type: text
        num_results_to_skip:
          default: '0'
          description: Number of search results to skip
          label: Results to Skip
          type: number
        num_search_results:
          default: '5'
          description: Default number of search results to return
          label: Default Search Results
          type: number
        searxng_api_url:
          default: http://localhost:8888/search
          description: URL for the SearxNG search engine API
          label: SearxNG API URL
          type: text
      title: ' Story Discovery'
      type: ChatNode
      width: 180
      x: 25
      y: 575
    d407e984-dd52-4549-ae40-821e2646d5ae:
      canvas_items:
        body: 116
        header: 117
        input_input: 119
        input_label_input: 120
        output_label_prompt: 122
        output_prompt: 121
        resize_handle: 123
        shadow: 115
        title: 118
      height: 100
      highlight_state: false
      id: d407e984-dd52-4549-ae40-821e2646d5ae
      inputs:
      - input
      outputs:
      - prompt
      properties:
        Instructions for custom formatting:
          default: 'if the section above starts with "Chapter #" then include that
            chapter number as a heading when writing the content like this with nothing
            else before it: "## Chapter # - Chapter heading....."

            Never include "(Continue) - " at the beginning of the chapter heading.

            if the section above starts with "(Continued)" then only include "(Continued)
            - " at the beginning of your output like this:  "(Continued) - content......"'
          description: Custom formatting instructions
          type: text
        Instructions for how the AI should use the next array element for context:
          default: '

            the next section to write about is as follows:

            '
          description: Template for introducing the current section
          type: text
        Instructions for how to process the Original user request and original content:
          default: 'The outline and user request is as follows and only for reference,
            do not use the same formatting as the outline:

            '
          description: Template for the context section
          type: text
        Instructions for how to processthe first element in the array:
          default: 'Please just repeat the title content below exactly and nothing
            else:


            '
          description: Prompt template for the first item
          type: text
        Main instructions for array element to focus on:
          default: "Role: You are a Professional Novelist and Master of Prose. Your\
            \ goal is to transform the provided outline into a high-fidelity, immersive\
            \ narrative.\n\nCore Writing Instructions: As a professional writer, please\
            \ write the detailed content for the section shown below. Do not include\
            \ any of your own commentary; provide only the story prose.\n\n1. Narrative\
            \ Style & Rhythm:\n\nIncorporate \"Burstiness\": Consciously vary sentence\
            \ lengths. Interlace short, punchy action beats with longer, lyrical descriptions\
            \ to create a dynamic, cinematic rhythm.\n\nActive Voice: Prioritize active\
            \ verbs. Minimize passive constructions and \"to be\" verbs (was/were)\
            \ to maintain narrative momentum.\n\nTight Perspective: Write in a Tight\
            \ Third-Person Limited perspective. Ground the reader in the current POV\
            \ character\u2019s immediate sensory perceptions\u2014what they smell,\
            \ the texture of their surroundings, and their visceral physical reactions.\n\
            \n2. Depth & Substance (The 500-Word Mandate):\n\nShow, Don't Tell: Instead\
            \ of naming an emotion (e.g., \"He was nervous\"), describe the physical\
            \ manifestation (e.g., \"His thumb traced the jagged edge of the coin\
            \ until the skin went numb\").\n\nMicro-Expressions: During dialogue and\
            \ conflict, expand the word count by detailing the micro-expressions,\
            \ shifts in posture, and hesitations of the characters.\n\nInternal Monologue:\
            \ Weave the character\u2019s internal thoughts directly into the narrative.\
            \ These thoughts should be sharp, subjective, and colored by their current\
            \ motivations and flaws.\n\n3. Dialogue & Structural Formatting:\n\nStandard\
            \ Fiction Formatting: Use a natural storytelling format. Separate dialogue,\
            \ physical descriptions, and internal reflections into distinct paragraphs.\n\
            \nSpeaker Rules: Start a new paragraph for every new speaker.\n\nDialogue\
            \ Tags: Keep dialogue tags simple (e.g., \"said,\" \"asked\") or replace\
            \ them with \"action beats\" (a character doing something while speaking)\
            \ to keep the flow natural. Avoid \"on-the-nose\" dialogue where characters\
            \ say exactly what they feel.\n\n4. Negative Constraints (Avoid AI-isms):\n\
            \nAvoid flowery clich\xE9s and repetitive AI transitions (e.g., \"A testament\
            \ to,\" \"In that moment,\" \"The air was thick with,\" or \"Little did\
            \ they know\").\n\nEnsure that consecutive paragraphs do not begin with\
            \ the same word or character name."
          description: Main instruction template for content generation
          type: text
        api_endpoint:
          default: Gemini 3 Flash
          label: API Endpoint
          options:
          - Claude
          - GPT 5 chat
          - Gemini 2.5
          - Groq gpt-oss 120b
          - LMStudio-MIstral-Nemo-Instruct
          - Ollama
          - OpenAI 4o-mini
          - OpenAI GPT5
          - OpenAI Whisper
          - OpenAI o3
          - SearXing
          - Gemini 3 Flash
          type: dropdown
        chunk_size:
          default: '10'
          description: Number of items to process in each chunk
          type: integer
        enable_url_selection:
          default: false
          description: Allow manual selection of URLs to scrape during review
          label: Enable URL Selection Dialog
          type: boolean
        num_results_to_skip:
          default: '0'
          description: Skip the first N search results before scraping
          label: Search Results to Skip
          type: integer
        num_search_results:
          default: '5'
          description: How many web results to pull during review
          label: Search Results to Fetch
          type: integer
        review_array:
          default: true
          description: Show review window for array output
          type: boolean
        searxng_api_url:
          default: http://localhost:8888/search
          description: Endpoint used for optional web-search enrichment
          label: SearXNG API URL
          type: text
        show_content_review:
          default: true
          description: Show content review window with web search capability
          type: boolean
        use_array:
          default: true
          description: Output as array instead of string
          type: boolean
      title: LongOutputV4
      type: LongOutputV4Node
      width: 125
      x: 475
      y: 25
    d40b6cbb-3284-47de-ab07-da0ec7176748:
      canvas_items:
        body: 125
        description: 128
        header: 126
        input_input: 129
        input_label_input: 130
        output_label_output1: 132
        output_label_output2: 134
        output_label_output3: 136
        output_label_output4: 138
        output_output1: 131
        output_output2: 133
        output_output3: 135
        output_output4: 137
        resize_handle: 139
        shadow: 124
        title: 127
      height: 120
      highlight_state: false
      id: d40b6cbb-3284-47de-ab07-da0ec7176748
      inputs:
      - input
      outputs:
      - output1
      - output2
      - output3
      - output4
      properties:
        Prompt:
          default: ''
          type: textarea
        description:
          default: Duplicates input to two outputs for parallel processing.
          label: Description
          type: text
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: SplitterNode
          label: Custom Node Name
          type: text
        output1_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output1.
          label: Convert Output 1 Array to Text
          type: boolean
        output2_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output2.
          label: Convert Output 2 Array to Text
          type: boolean
        output3_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output3.
          label: Convert Output 3 Array to Text
          type: boolean
        output4_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output4.
          label: Convert Output 4 Array to Text
          type: boolean
        output_count:
          default: '2'
          description: How many outputs to populate (up to 4).
          label: Number of Outputs (1-4)
          type: text
      title: SplitterNode
      type: SplitterNode
      width: 180
      x: 375
      y: 200
    ef04ae7a-8247-4da6-9621-f36766e76fdd:
      canvas_items:
        badge: 144
        badge_label: 145
        body: 141
        description: 146
        header: 142
        input_input: 147
        input_label_input: 148
        output_label_output: 150
        output_output: 149
        resize_handle: 151
        shadow: 140
        title: 143
      height: 120
      highlight_state: false
      id: ef04ae7a-8247-4da6-9621-f36766e76fdd
      inputs:
      - input
      outputs:
      - output
      properties:
        Prompt:
          default: ''
          type: textarea
        append_timestamp:
          default: true
          label: Append Date/Time to Filename
          type: boolean
        auto_open:
          default: false
          label: Open File After Export
          type: boolean
        description:
          default: Exports input text to Word or Excel document.
          label: Description
          type: text
        export_format:
          default: Word (.docx)
          label: Export Format
          options:
          - Word (.docx)
          - Excel (.xlsx)
          - Text (.txt)
          type: dropdown
        filename:
          default: Book_Review
          label: Filename (without extension)
          type: text
        formatting_enabled:
          default: true
          label: Enable Markdown Formatting
          type: boolean
        is_end_node:
          default: true
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: Final Book Review
          label: Custom Node Name
          type: text
        output_folder:
          default: ''
          label: Output Folder
          type: folder
      title: Final Book Review
      type: ExportDocumentNode
      width: 180
      x: 925
      y: 575
    f08be467-3921-42ce-befa-51c12bc15775:
      canvas_items:
        body: 153
        description: 156
        header: 154
        input_input: 157
        input_label_input: 158
        output_label_output1: 160
        output_label_output2: 162
        output_label_output3: 164
        output_label_output4: 166
        output_output1: 159
        output_output2: 161
        output_output3: 163
        output_output4: 165
        resize_handle: 167
        shadow: 152
        title: 155
      height: 120
      highlight_state: false
      id: f08be467-3921-42ce-befa-51c12bc15775
      inputs:
      - input
      outputs:
      - output1
      - output2
      - output3
      - output4
      properties:
        Prompt:
          default: ''
          type: textarea
        description:
          default: Duplicates input to two outputs for parallel processing.
          label: Description
          type: text
        is_end_node:
          default: false
          label: End Node
          type: boolean
        is_start_node:
          default: false
          label: Start Node
          type: boolean
        node_name:
          default: SplitterNode
          label: Custom Node Name
          type: text
        output1_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output1.
          label: Convert Output 1 Array to Text
          type: boolean
        output2_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output2.
          label: Convert Output 2 Array to Text
          type: boolean
        output3_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output3.
          label: Convert Output 3 Array to Text
          type: boolean
        output4_as_text:
          default: false
          description: If enabled, arrays are joined into a single string for output4.
          label: Convert Output 4 Array to Text
          type: boolean
        output_count:
          default: '2'
          description: How many outputs to populate (up to 4).
          label: Number of Outputs (1-4)
          type: text
      title: Splitter
      type: SplitterNode
      width: 180
      x: 100
      y: 400
  viewport:
    pan_offset_x: 16.5
    pan_offset_y: 3.099999999999966
    window_height: 764
    window_width: 1239
    zoom_level: 0.9
name: Write long form story content
